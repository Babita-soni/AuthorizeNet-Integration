<template>
    <!-- loader -->
    <div if:true={showSpinner}>
        <lightning-spinner alternative-text="Loading..." variant="brand" class="slds-is-fixed">
        </lightning-spinner>
    </div>
    <!--/loader-->

    <div
        class="slds-p-around--small">
        <div class="slds-p-horizontal--xx-large">
            <div style="display: flex;color:white" class="slds-align_absolute-center">
                <span>Authorize Dot Net Payment by Credit Card</span>
            </div>
            <div style="box-shadow: 0px 0px 0px 0px;"
                class="slds-m-vertical--large slds-tabs_card slds-align_absolute-center form-box">
                <div class="slds-page-header slds-box--border">
                    <div class="slds-page-header__row">
                        <div class="slds-page-header__col-title">
                            <div class="slds-page-header__name slds-p-around--medium">
                                <img style="width:100rem; height:10rem" src={authorizeurl} class="logo-image"/>
                            </div>
                            <div class="slds-var-p-horizontal_small">
                                <lightning-layout multiple-rows>

                                    <!-- credit card start -->

                                    <lightning-layout-item if:true={showCard} class="slds-p-around--xx-small valid" size="12">
                                        
                                    <lightning-input class="cardNumber"
                                        type="text"
                                        name="cardNumber"
                                        required
                                        onchange={handleChange}
                                        placeholder="Please Enter 16 Digit card number"
                                        message-when-pattern-mismatch="Please enter valid card number"
                                        pattern="[0-9]{16}"
                                        label="Card Number"
                                        min-length="16" max-length="16">
                                    </lightning-input>
                                
                                    </lightning-layout-item>
                                    <lightning-layout-item if:true={showCard} class="slds-p-around--xx-small" size="12"
                                        medium-device-size="3" large-device-size="3">
                                        <lightning-combobox class="month" name="month" options={monthOptions}
                                            placeholder="Choose a month" label="Expiry Month" value={cardmMonth}
                                            required onchange={handleChange}>
                                        </lightning-combobox>
                                    </lightning-layout-item>

                                    <lightning-layout-item if:true={showCard} class="slds-p-around--xx-small" size="12"
                                        medium-device-size="3" large-device-size="3">
                                        <lightning-combobox class="year" name="year" options={yearOptions}
                                            placeholder="Choose a year" label="Expiry Year" value={cardYear} required
                                            onchange={handleChange}>
                                        </lightning-combobox>
                                    </lightning-layout-item>

                                    <lightning-layout-item if:true={showCard} class="slds-p-around--xx-small" size="12"
                                        medium-device-size="6" large-device-size="6">
                                        <lightning-input name="cvv" class="cvv" type="password" message-when-pattern-mismatch="Please enter valid CVV number"
                                            pattern="[0-9]{3}" placeholder="Enter 3 digit CVV" label="CVV Number" min-length="3" max-length="3"
                                            required onchange={handleChange}>
                                        </lightning-input>
                                    </lightning-layout-item>

                                    <lightning-layout-item if:true={showCard} class="slds-p-around--xx-small" size="12"
                                        medium-device-size="6" large-device-size="6">
                                        <lightning-input 
                                            class="amount"
                                            type="number"
                                            name="amount"
                                            label="Amount"
                                            value={amount}
                                            disabled>
                                        </lightning-input>
                                    </lightning-layout-item>

                                    <!-- credit card end -->

                    

                                    <lightning-layout-item size="12"
                                        class="slds-p-around--xx-small slds-m-top--xx-small">
                                        <button type="button" name="PLACE ORDER" value="PLACE ORDER"
                                            disabled={showPlaceOrder} class="stretchButton slds-button slds-button_success"
                                            onclick={handlePayment}>PLACE ORDER</button>
                                    </lightning-layout-item>

                                    
                                </lightning-layout>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div><br />
</template>